<!-- Container Principal -->
<div class="confirmation-container">
  <!-- Header da P√°gina -->
  <div class="page-header">
    <h1 class="page-title">Finalizar Reserva</h1>
    <p class="page-subtitle">Escolha a forma de pagamento para reservar seu presente</p>
  </div>

  <!-- Conte√∫do Principal -->
  <div class="main-content">
    <!-- Card de Pagamento -->
    <div class="payment-section">
      <div class="payment-card">
        <div class="card-header">
          <h2 class="card-title">Forma de Pagamento</h2>
          <p class="card-subtitle">Selecione como deseja realizar o pagamento</p>
        </div>
        
        <div class="card-body">
          <form [formGroup]="paymentForm">
            <div class="payment-methods">
              <div 
                *ngFor="let m of methods" 
                class="payment-method"
                [class.selected]="selectedMethod === m.value">
                
                <div class="method-header" (click)="selectMethod(m.value)">
                  <div class="method-info">
                    <div class="method-radio">
                      <input 
                        type="radio" 
                        [value]="m.value"
                        [checked]="selectedMethod === m.value"
                        (change)="selectMethod(m.value)"
                        name="paymentMethod">
                      <span class="radio-custom"></span>
                    </div>
                    <div class="method-details">
                      <h3 class="method-title">{{ m.label }}</h3>
                    </div>
                  </div>
                </div>

                <div class="method-content" *ngIf="selectedMethod === m.value">
                  <div *ngIf="m.value === 'lojas'" class="store-options">
                    <p class="store-text">Escolha a loja:</p>
                    <div class="store-buttons">
                      <a 
                        href="https://shopee.com" 
                        target="_blank"
                        rel="noopener noreferrer"
                        class="store-btn shopee"
                      >
                        <span>Shopee</span>
                      </a>
                      <a 
                        href="https://magalu.com" 
                        target="_blank"
                        rel="noopener noreferrer" 
                        class="store-btn magalu"
                      >
                        <span>Magalu</span>
                      </a>
                    </div>
                    <div class="store-warning mt-3">
                      <div class="warning-icon">
                        <nb-icon icon="info-outline"></nb-icon>
                      </div>
                      <p class="warning-text">Pegue os links para as lojas e depois clique em finalizar para reservar o item</p>
                    </div>
                  </div>
                  
                  <div *ngIf="m.value === 'card'" class="card-info">
                    <p class="content-text">Voc√™ ser√° redirecionado ao checkout seguro.</p>
                  </div>
                </div>
              </div>
            </div>
          </form>

          <div class="alert-info">
            <div class="alert-icon">
              <img src="/images/bell.png" alt="Aten√ß√£o">
            </div>
            <div class="alert-text">
              <strong>Aten√ß√£o:</strong> Lembre-se de clicar em finalizar para reservar o item!
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Card de Resumo -->
    <div class="summary-section">
      <div class="summary-card">
        <div class="card-header">
          <h2 class="card-title">Resumo do Pedido</h2>
        </div>
        
        <div class="card-body">
          <div class="product-info">
            <h3 class="product-title">{{ productValue.titulo }}</h3>
            <p class="product-description">{{ productValue.descricao }}</p>
          </div>

          <div class="price-section">
            <div class="price-item">
              <span class="price-label">Valor do Produto:</span>
              <span class="price-value">{{ productValue.valor / 100 | currency:'BRL':'symbol':'1.2-2' }}</span>
            </div>
            <div class="price-divider"></div>
          </div>

          <div class="action-buttons">
            <button class="btn btn-secondary" (click)="voltarHome()">
              <span class="btn-icon">‚Üê</span>
              Voltar
            </button>
            <button class="btn btn-primary" (click)="onContinue()">
              <span class="btn-icon">üéÅ</span>
              {{ textoContinuar }}
              <span class="btn-arrow">‚Üí</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer Mobile -->
  <div class="mobile-footer">
    <div class="mobile-summary">
      <div class="summary-icon">
        <nb-icon icon="file-text-outline"></nb-icon>
      </div>
      <div class="summary-text">
        <span class="summary-label">RESUMO</span>
        <span class="summary-method">{{ selectedMethod | uppercase }}</span>
      </div>
    </div>
    <button class="btn btn-primary mobile-btn" (click)="onContinue()">
      {{ textoContinuar }}
    </button>
  </div>
</div>
